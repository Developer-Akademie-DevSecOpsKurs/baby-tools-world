{% extends '_dashboard.html' %}

{% block content %}

<div class="col-md-12 mt-4">
  <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
    <div class="col p-4 d-flex flex-column position-static">
      <h3 class="mb-0">
        {{product.name}}
      </h3>
      <div class="mb-1 text-muted">
        {{product.price}} &euro;
      </div>
      <p class="card-text mb-auto">
        {{product.description}}
      </p>
      <div class="btn btn-primary btn-center">
        Buy now
      </div>
    </div>
    <div class="col-auto d-none d-lg-block">
      {% if product.image %}
      {% load static %}
      <img src="{% static product.image %}" width="400" height="400" alt="" />
      {% else %}
      <img src="https://placehold.co/400x400" width="400" height="400" alt="" />
      {% endif %}
    </div>
  </div>
</div>
<div class="row">
  {% for product in products %}
  <div class="card" style="width: 18rem;">
    {% if product.image %}
    <img src="{% static product.image %}" class="card-img-top" width="300" height="230">
    {% else %}
    <img src="https://placehold.co/300x200" class="card-img-top" width="300" height="230">
    {% endif %}
    <div class="card-body">
      <h5 class="card-title">
        <a href="{% url 'product_detail' product.category.slug product.id %}"  title="{{ product.name }}">
          {{ product.name | truncatechars:20 }}
        </a>
      </h5>
      <div class="mb-1 text-muted">
        {{product.price}} &euro;
      </div>
      <p class="card-text">
        {{product.description | truncatechars:80}}
      </p>
    </div>
    <div class="card-footer text-muted text-center">
      <a href="{% url 'product_detail' product.category.slug product.id %}" class="btn btn-primary">
        See Details
      </a>
    </div>
  </div>
  {% endfor %}
</div>


{% endblock %}